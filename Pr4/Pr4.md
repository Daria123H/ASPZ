# Завдання 4.1

Скільки пам’яті може виділити malloc(3) за один виклик?
Параметр malloc(3) є цілим числом типу даних size_t, тому логічно максимальне число, яке можна передати як параметр malloc(3), — це максимальне значення size_t на платформі (sizeof(size_t)). У 64-бітній Linux size_t становить 8 байтів, тобто 8 * 8 = 64 біти. Відповідно, максимальний обсяг пам’яті, який може бути виділений за один виклик malloc(3), дорівнює 2^64. Спробуйте запустити код на x86_64 та x86. Чому теоретично максимальний обсяг складає 8 ексабайт, а не 16?

## Виконання

Перш за все я дізналась розмір size_t у FreeBSD [написавши код](https://github.com/Daria123H/ASPZ/blob/main/Pr4/task1/PR4_1.c). Скомпілювала його і отримала результат: 

![Результат](https://github.com/Daria123H/ASPZ/blob/main/Pr4/task1/PR4_1.png)

Після цього пишу код який буде намагатись виділити велику кількість.

![Результат](https://github.com/Daria123H/ASPZ/blob/main/Pr4/task1/PR4_1_1.png)

А що стосується питання чому теоретично максимальний обсяг складає 8 ексабайт, а не 16, то на 64-бітних системах size_t займає 8 байтів. До того ж теоретично максимальне значення size_t – 2^64-1(18.4 EБ). Тому практично malloc(3) не може видітили більше 8 ЕБ.

Перевірка:

Sysctl hw.physmem

![Результат](https://github.com/Daria123H/ASPZ/blob/main/Pr4/task1/PR4_111.png)

# Завдання 4.2

Що станеться, якщо передати malloc(3) від’ємний аргумент? Напишіть тестовий випадок, який обчислює кількість виділених байтів за формулою num = xa * xb. Що буде, якщо num оголошене як цілочисельна змінна зі знаком, а результат множення призведе до переповнення? Як себе поведе malloc(3)? Запустіть програму на x86_64 і x86.

## Виконання

Що станеться, якщо передати malloc(3) від’ємний аргумент? 

Функція malloc(3) приймає параметр типу size_t, який є беззнаковим (unsigned). Якщо передати від’ємне значення, воно буде неявно перетворене в size_t, що призведе до дуже великого числа. Це призведе до помилки.
Далі написала тестовий випадок, який обчислює кількість виділених байтів за формулою num = xa * xb. Завдяки цьому [коду](https://github.com/Daria123H/ASPZ/blob/main/Pr4/task2/PR4_2.c) ми перевіримо, що станеться, якщо перемножити два знаковий значення та отримати від’ємний результат, який буде передано у malloc(3).

Після компіляції отримуємо: 

![Результат](https://github.com/Daria123H/ASPZ/blob/main/Pr4/task2/PR4_2.png)

Що буде, якщо num оголошене як цілочисельна змінна зі знаком, а результат множення призведе до переповнення?

Якщо num має тип int або long і результат множення двох великих чисел перевищує максимальне значення, то відбувається переповнення знакового типу

Як себе поведе malloc(3)? 

malloc(3) приймає аргумент типу size_t, який є беззнаковим. Виходячи з цього від’ємне значення сприймається як дуже велике позитивне число. Відповідно виникне помилка виділення пам’яті. 

# Завдання 4.3


